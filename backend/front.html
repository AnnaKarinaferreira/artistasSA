<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <p>Nome</p>
    <input type="text" name="" id="name">
    <p>Senha</p>
    <input type="text" name="" id="password">
    <p>Profiss√£o</p>
    <input type="text" name="" id="email">
    <p>Ganhos</p>
    <input type="text" name="" id="telefone">
    
    <button onclick="criarusuario()">
        Cadastrar
    </button>

    <p id="usuario"></p>

    <script>
        async function pegarusuario () {
            const resposta = await fetch('http://localhost:3333/usuario', {
                method: 'GET'
            })

            const usuarios = await resposta.json();
            console.log(usuarios);
            const usuario = document.getElementById('usuario');
            usuario.innerHTML = usuarios[0].name;

        };
        pegarusuario();

        async function criarusuario () {
            const name = document.getElementById('name').value;
            const password = document.getElementById('password').value;
            const email = document.getElementById('email').value;
            const telefone = document.getElementById('telefone').value;

            const usuario = {
                "name": name,
                "password": password,
                "email": email,
                "telefone": telefone
            }
            const repota = await fetch('http://localhost:3333/usuario', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(usuario) 
            });
            
            await pegarusuario();
        }
    </script>
</body>
</html>